#!/usr/bin/env node

var program = require('commander');
var version = require('../package').version;
var run = require('../lib/runner').run;

program
  .version(version, '-v, --version');

program
  .command('build', 'build project')
  .option('-c, --clean', 'clean output dir before build')
  .option('-d, --dev', 'build development version')
  .option('-o, --output <output>', 'set output dir [dist]', 'dist')
  .option('-v, --verbose', 'output verbose information')
  .option('-w, --watch', 'rebuild on file change')
  .option('--babel', 'build a babel+es6 project')
  .option('--ts', 'build a typescript project')
  .action(function(options) {});

program
  .command('test', 'run unit test')
  .option('-o, --output <output>', 'set output dir [dist]', 'dist')
  .option('-v, --verbose', 'output verbose information')
  .option('-w, --watch', 'rebuild on file change')
  .option('--babel', 'build a babel+es6 project')
  .option('--ts', 'build a typescript project')
  .action(function(options) {});

program
  .command('unfreeze', 'unfreeze dependencies package version')
  .option('-a, --aggresive', 'version >=')
  .action(function(options) {
    run(require('../lib/updater').unfreeze.bind(undefined, options));
  });

program
  .command('freeze', 'freeze dependencies package version')
  .action(function() {
    run(require('../lib/updater').freeze);
  });

program.parse(process.argv);
